import{p as b,s as d}from"./toastify.1d3ad024.js";/* empty css                    */import{d as p}from"./vendor.dd84fe55.js";function x(t){const e=new window.bootstrap.Modal(t);e&&e.show()}function h({modalId:t,imgSelector:e,prevSelector:i,nextSelector:f}){const n=document.getElementById(t);if(!n||n.dataset.registered)return;const s=n.querySelector(e),m=n.querySelector(i),g=n.querySelector(f);!s||!m||!g||(document.addEventListener("click",u=>{console.log("click",u.target);const{target:r}=u;if(r.tagName!=="IMG"||!r.dataset.album)return;let a=[],o=0;function l(c){s.src=a[c].src}a=document.querySelectorAll(`img[data-album="${r.dataset.album}"]`),o=[...a].findIndex(c=>c==r),console.log("album image click",{target:r,currentIndex:o,imgList:a}),l(o),x(n),m.addEventListener("click",()=>{o=(o-1+a.length)%a.length,l(o)}),g.addEventListener("click",()=>{o=(o+1)%a.length,l(o)})}),n.dataset.registered="true")}function I(t){if(!t)return;d(document,"#postDetailTitle",t.title),d(document,"#postDetailAuthor",t.author),d(document,"#postDetailTimeSpan",p(t.updatedAt).format("- DD/MM/YYYY HH:mm")),d(document,"#postDetailDescription",t.description),d(document,"#postDetailTitle",t.title);const e=document.getElementById("postHeroImage");e&&(e.style.background=`url("${t.imageUrl}")`),e.addEventListener("error",()=>{e.style.background="./images/recipe.jpg"});const i=document.getElementById("goToEditPageLink");i&&(i.href=`/add-edit-post.html?id=${t.id}`,i.textContent="Edit Post")}(async()=>{h({modalId:"lightbox",imgSelector:'img[data-id="lightboxImg"]',prevSelector:'button[data-id="lightboxPrev"]',nextSelector:'button[data-id="lightboxNext"]'}),h({modalId:"lightbox",imgSelector:'img[data-id="lightboxImg"]',prevSelector:'button[data-id="lightboxPrev"]',nextSelector:'button[data-id="lightboxNext"]'});try{const e=new URLSearchParams(window.location.search).get("id");if(!e){console.log("Post not found");return}const i=await b.getById(e);I(i)}catch(t){console.log("failed to fetch post detail",t)}})();
